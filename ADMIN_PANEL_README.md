# Admin Panel - Orders Dashboard

A comprehensive admin panel for managing and tracking all customer orders from the mousepad customizer. This panel is designed to be embedded in Wix sites using iframes.

## Features

### üìä Dashboard Overview
- **Total Orders**: Real-time count of all orders
- **Total Revenue**: Sum of all order totals
- **Pending Orders**: Orders awaiting processing
- **Delivered Orders**: Successfully completed orders

### üîç Order Management
- **Search Functionality**: Search by customer name, email, or order ID
- **Status Filtering**: Filter orders by status (pending, processing, shipped, delivered, cancelled)
- **Real-time Updates**: Orders load automatically on page refresh
- **Status Updates**: Update order status, add tracking numbers, and notes
- **Order Notes**: Add internal notes for order processing
- **Tracking Numbers**: Manage shipping tracking information

### üñºÔ∏è Order Details
- **High-quality Preview Images**: Enlarged, detailed previews of customized mousepads
- **Complete Customization Data**: All design specifications (theme, size, text, colors, RGB settings)
- **Customer Information**: Full shipping and contact details
- **Order Summary**: Subtotal, shipping, tax, and total amounts

### üíæ Download Functionality
- **Image Downloads**: Download high-quality preview images for each order
- **Hover-to-Download**: Intuitive interface with hover effects

### üë• User Management
- **Customer Database**: Complete customer information and order history
- **User Statistics**: Total orders, spending, and activity metrics
- **User Search**: Search by name, email, or user ID
- **Status Filtering**: Filter by active/inactive users
- **User Details**: View complete customer profiles and order history
- **Customer Communication**: Direct email integration for customer support

### üì± Responsive Design
- **Mobile-Friendly**: Optimized for all screen sizes
- **Iframe-Ready**: Designed specifically for Wix iframe integration
- **Smooth Loading**: Skeleton screens and loading states
- **Tabbed Interface**: Organized sections for orders and user management

## Technical Implementation

### Data Structure
The admin panel uses a comprehensive order data structure that includes:

```typescript
interface Order {
  id: string;
  customerName: string;
  customerEmail: string;
  orderDate: Date;
  status: 'pending' | 'processing' | 'shipped' | 'delivered' | 'cancelled';
  items: OrderItem[];
  subtotal: number;
  shipping: number;
  tax: number;
  total: number;
  currency: 'USD' | 'SGD';
  userDetails: UserDetails;
  previewImage: string;
}
```

### API Endpoints
- `GET /api/orders` - Fetch all orders
- `POST /api/orders` - Create new order (for future use)
- `PUT /api/orders` - Update order status and details

### Mock Data
Currently uses mock data that simulates real order scenarios:
- 25 sample orders with varied themes, sizes, and statuses
- 15 sample users with complete profiles and order history
- Realistic customer information and addresses
- Generated SVG preview images based on customization data
- Order notes and tracking numbers for shipped/delivered orders

## Wix Integration

### Iframe Embed Code
```html
<iframe 
  src="https://your-domain.com/admin" 
  width="100%" 
  height="800px" 
  frameborder="0" 
  style="border: none; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);"
></iframe>
```

### Recommended Heights
- **Small**: 600px - For compact displays
- **Medium**: 800px - Standard size (recommended)
- **Large**: 1000px - For detailed viewing

### Wix Setup Instructions
1. Add an HTML element to your Wix page
2. Paste the iframe code above
3. Replace `https://your-domain.com/admin` with your actual domain
4. Adjust the height as needed for your layout

## Database Integration

### Current State
The admin panel currently uses mock data generated by the API. To connect to a real database:

1. **Replace Mock Data**: Update `/app/api/orders/route.ts` to connect to your database
2. **Database Schema**: Ensure your database matches the Order interface structure
3. **Authentication**: Add authentication middleware if needed
4. **Real-time Updates**: Consider implementing WebSocket connections for live updates

### Recommended Database Fields
```sql
CREATE TABLE orders (
  id VARCHAR(50) PRIMARY KEY,
  customer_name VARCHAR(255) NOT NULL,
  customer_email VARCHAR(255) NOT NULL,
  order_date TIMESTAMP NOT NULL,
  status ENUM('pending', 'processing', 'shipped', 'delivered', 'cancelled') NOT NULL,
  subtotal DECIMAL(10,2) NOT NULL,
  shipping DECIMAL(10,2) NOT NULL,
  tax DECIMAL(10,2) NOT NULL,
  total DECIMAL(10,2) NOT NULL,
  currency VARCHAR(3) NOT NULL,
  preview_image TEXT NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE order_items (
  id VARCHAR(50) PRIMARY KEY,
  order_id VARCHAR(50) NOT NULL,
  name VARCHAR(255) NOT NULL,
  image TEXT NOT NULL,
  specs JSON NOT NULL,
  quantity INT NOT NULL,
  price DECIMAL(10,2) NOT NULL,
  currency VARCHAR(3) NOT NULL,
  FOREIGN KEY (order_id) REFERENCES orders(id)
);

CREATE TABLE user_details (
  order_id VARCHAR(50) PRIMARY KEY,
  first_name VARCHAR(255) NOT NULL,
  last_name VARCHAR(255) NOT NULL,
  email VARCHAR(255) NOT NULL,
  phone VARCHAR(50) NOT NULL,
  address JSON NOT NULL,
  additional_notes TEXT,
  FOREIGN KEY (order_id) REFERENCES orders(id)
);
```

## Customization

### Styling
The admin panel uses Tailwind CSS and can be customized by:
- Modifying the CSS classes in `/app/admin/page.tsx`
- Updating the color scheme in the status badges
- Adjusting the layout grid for different screen sizes

### Adding Features
To add new features:
1. **New Status**: Add to the status enum and update status colors/icons
2. **New Filters**: Add filter options to the Select component
3. **New Stats**: Add new stat cards to the dashboard
4. **Export Functionality**: Add CSV/PDF export buttons
5. **User Actions**: Add bulk user operations (activate/deactivate, email campaigns)
6. **Order Actions**: Add bulk order operations (status updates, shipping labels)

## Security Considerations

### Iframe Security
- The admin panel is designed to be embedded in iframes
- No sensitive data is exposed in the frontend
- Consider adding authentication for production use

### Data Protection
- Customer information should be handled according to privacy regulations
- Implement proper access controls for admin users
- Consider data encryption for sensitive fields

## Performance Optimization

### Loading States
- Skeleton screens during data loading
- Optimized image generation using SVG
- Efficient filtering and search algorithms

### Scalability
- Pagination can be added for large order volumes
- Virtual scrolling for better performance
- Caching strategies for frequently accessed data

## Demo

Visit `/admin-demo` to see a live demonstration of the admin panel embedded in an iframe.

## Support

For questions or issues with the admin panel:
1. Check the browser console for error messages
2. Verify the API endpoint is accessible
3. Ensure proper iframe permissions are set
4. Test with different screen sizes for responsiveness

## Future Enhancements

- [ ] Real-time order updates via WebSocket
- [ ] Bulk order operations (status updates, exports)
- [ ] Advanced analytics and reporting
- [ ] Email notifications for new orders
- [ ] Order timeline and tracking
- [ ] Customer communication tools
- [ ] Inventory management integration
- [ ] Payment status tracking 